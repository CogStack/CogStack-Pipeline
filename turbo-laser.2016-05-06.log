12:06:46.777 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
12:06:46.792 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Could not instantiate TestExecutionListener [org.springframework.test.context.web.ServletTestExecutionListener]. Specify custom listener classes or make the default listener classes (and their required dependencies) available. Offending class: [javax/servlet/ServletContext]
12:06:46.808 [main] INFO  o.s.t.c.s.DefaultTestContextBootstrapper - Using TestExecutionListeners: [org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7f552bd3, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@3c22fc4c, org.springframework.test.context.support.DirtiesContextTestExecutionListener@460d0a57, org.springframework.test.context.transaction.TransactionalTestExecutionListener@47d90b9e, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1184ab05]
12:06:46.968 [main] INFO  o.s.c.s.GenericApplicationContext - Refreshing org.springframework.context.support.GenericApplicationContext@f5ac9e4: startup date [Fri May 06 12:06:46 BST 2016]; root of context hierarchy
12:06:47.335 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'jobLauncher' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration; factoryMethodName=jobLauncher; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/batch/core/configuration/annotation/SimpleBatchConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.kcl.batch.BatchConfigurer; factoryMethodName=jobLauncher; initMethodName=null; destroyMethodName=(inferred); defined in class uk.ac.kcl.batch.BatchConfigurer]
12:06:47.337 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'jobExplorer' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration; factoryMethodName=jobExplorer; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/batch/core/configuration/annotation/SimpleBatchConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.kcl.batch.BatchConfigurer; factoryMethodName=jobExplorer; initMethodName=null; destroyMethodName=(inferred); defined in class uk.ac.kcl.batch.BatchConfigurer]
12:06:47.338 [main] INFO  o.s.b.f.s.DefaultListableBeanFactory - Overriding bean definition for bean 'jobRegistry' with a different definition: replacing [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration; factoryMethodName=jobRegistry; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [org/springframework/batch/core/configuration/annotation/SimpleBatchConfiguration.class]] with [Root bean: class [null]; scope=; abstract=false; lazyInit=false; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=uk.ac.kcl.batch.BatchConfigurer; factoryMethodName=jobRegistry; initMethodName=null; destroyMethodName=(inferred); defined in class uk.ac.kcl.batch.BatchConfigurer]
12:06:47.349 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [spring-slave.xml]
12:06:47.747 [main] INFO  o.s.b.f.config.PropertiesFactoryBean - Loading properties file from URL [jar:file:/home/rich/.gradle/caches/modules-2/files-2.1/org.springframework.integration/spring-integration-core/4.2.3.RELEASE/379a93c0d5ed9b3ff44f1d9d435095e76a4566a3/spring-integration-core-4.2.3.RELEASE.jar!/META-INF/spring.integration.default.properties]
12:06:47.759 [main] INFO  o.s.i.config.IntegrationRegistrar - No bean named 'integrationHeaderChannelRegistry' has been explicitly defined. Therefore, a default DefaultHeaderChannelRegistry will be created.
12:06:47.789 [main] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [spring-master.xml]
12:06:48.144 [main] WARN  o.s.c.a.ConfigurationClassEnhancer - @Bean method ScopeConfiguration.stepScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
12:06:48.163 [main] WARN  o.s.c.a.ConfigurationClassEnhancer - @Bean method ScopeConfiguration.jobScope is non-static and returns an object assignable to Spring's BeanFactoryPostProcessor interface. This will result in a failure to process annotations such as @Autowired, @Resource and @PostConstruct within the method's declaring @Configuration class. Add the 'static' modifier to this method to avoid these container lifecycle issues; see @Bean javadoc for complete details.
12:06:48.185 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'errorChannel' has been explicitly defined. Therefore, a default PublishSubscribeChannel will be created.
12:06:48.189 [main] INFO  o.s.i.c.DefaultConfiguringBeanFactoryPostProcessor - No bean named 'taskScheduler' has been explicitly defined. Therefore, a default ThreadPoolTaskScheduler will be created.
12:06:48.295 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'uk.ac.kcl.batch.JobConfiguration' of type [class uk.ac.kcl.batch.JobConfiguration$$EnhancerBySpringCGLIB$$19104c0d] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12:06:48.479 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'targetDataSource' of type [class org.apache.commons.dbcp.BasicDataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12:06:48.541 [main] INFO  o.s.b.c.r.s.JobRepositoryFactoryBean - No database type set, using meta data indicating: POSTGRES
12:06:48.728 [main] INFO  o.s.b.c.l.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
12:06:48.729 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'uk.ac.kcl.batch.BatchConfigurer' of type [class uk.ac.kcl.batch.BatchConfigurer$$EnhancerBySpringCGLIB$$bf9f0f6] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12:06:48.750 [main] INFO  o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'jobRegistry' of type [class org.springframework.batch.core.configuration.support.MapJobRegistry] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
12:06:48.857 [main] INFO  o.s.b.c.l.support.SimpleJobLauncher - No TaskExecutor has been set, defaulting to synchronous executor.
12:06:49.079 [main] INFO  o.s.b.f.config.PropertiesFactoryBean - Loading properties file from URL [jar:file:/home/rich/.gradle/caches/modules-2/files-2.1/org.springframework.integration/spring-integration-core/4.2.3.RELEASE/379a93c0d5ed9b3ff44f1d9d435095e76a4566a3/spring-integration-core-4.2.3.RELEASE.jar!/META-INF/spring.integration.default.properties]
12:06:50.900 [main] WARN  o.s.b.c.l.AbstractListenerFactoryBean - org.springframework.batch.item.ItemReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listner annotations can be used.
12:06:50.914 [main] WARN  o.s.b.c.l.AbstractListenerFactoryBean - org.springframework.batch.item.ItemReader is an interface.  The implementing class will not be queried for annotation based listener configurations.  If using @StepScope on a @Bean method, be sure to return the implementing class so listner annotations can be used.
12:06:51.051 [main] INFO  o.s.s.c.ThreadPoolTaskScheduler - Initializing ExecutorService  'taskScheduler'
12:06:51.256 [main] WARN  o.s.i.c.ReleaseStrategyFactoryBean - No ReleaseStrategy annotated method found on MessageChannelPartitionHandler; falling back to SequenceSizeReleaseStrategy, target:org.springframework.batch.integration.partition.MessageChannelPartitionHandler@31b82e0f, methodName:null
12:06:51.405 [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 0
12:06:51.417 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {jms:outbound-channel-adapter} as a subscriber to the 'replyChannel' channel
12:06:51.417 [main] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.replyChannel' has 1 subscriber(s).
12:06:51.417 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started org.springframework.integration.config.ConsumerEndpointFactoryBean#0
12:06:51.418 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {service-activator} as a subscriber to the 'requestChannel' channel
12:06:51.418 [main] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.requestChannel' has 1 subscriber(s).
12:06:51.418 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started org.springframework.integration.config.ConsumerEndpointFactoryBean#1
12:06:51.418 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {jms:outbound-channel-adapter} as a subscriber to the 'requestChannel' channel
12:06:51.418 [main] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.requestChannel' has 2 subscriber(s).
12:06:51.418 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started org.springframework.integration.config.ConsumerEndpointFactoryBean#2
12:06:51.419 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {aggregator} as a subscriber to the 'replyChannel' channel
12:06:51.419 [main] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.replyChannel' has 2 subscriber(s).
12:06:51.419 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started org.springframework.integration.config.ConsumerEndpointFactoryBean#3
12:06:51.419 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - Adding {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
12:06:51.419 [main] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.errorChannel' has 1 subscriber(s).
12:06:51.419 [main] INFO  o.s.i.endpoint.EventDrivenConsumer - started _org.springframework.integration.errorLogger
12:06:51.419 [main] INFO  o.s.c.s.DefaultLifecycleProcessor - Starting beans in phase 1073741823
12:06:51.420 [main] INFO  o.s.i.j.ChannelPublishingJmsMessageListener$GatewayDelegate - started org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@25a7fedf
12:06:51.598 [main] INFO  o.s.j.c.CachingConnectionFactory - Established shared JMS Connection: ActiveMQConnection {id=ID:rich-Lenovo-IdeaPad-U410-Touch-51538-1462532811484-1:1,clientId=null,started=false}
12:06:51.757 [main] INFO  o.s.i.jms.JmsMessageDrivenEndpoint - started org.springframework.integration.jms.JmsMessageDrivenEndpoint#0
12:06:51.758 [main] INFO  o.s.i.j.ChannelPublishingJmsMessageListener$GatewayDelegate - started org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@daf22f0
12:06:51.766 [main] INFO  o.s.i.jms.JmsMessageDrivenEndpoint - started org.springframework.integration.jms.JmsMessageDrivenEndpoint#1
12:06:52.093 [main] INFO  o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [org/springframework/batch/core/schema-drop-postgresql.sql]
12:06:52.131 [main] INFO  o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [org/springframework/batch/core/schema-drop-postgresql.sql] in 36 ms.
12:06:52.131 [main] INFO  o.s.jdbc.datasource.init.ScriptUtils - Executing SQL script from class path resource [org/springframework/batch/core/schema-postgresql.sql]
12:06:52.161 [org.springframework.integration.jms.JmsMessageDrivenEndpoint#0.container-1] INFO  o.s.b.f.xml.XmlBeanDefinitionReader - Loading XML bean definitions from class path resource [org/springframework/jdbc/support/sql-error-codes.xml]
12:06:52.224 [org.springframework.integration.jms.JmsMessageDrivenEndpoint#0.container-1] INFO  o.s.j.support.SQLErrorCodesFactory - SQLErrorCodes loaded: [DB2, Derby, H2, HSQL, Informix, MS-SQL, MySQL, Oracle, PostgreSQL, Sybase, Hana]
12:06:52.255 [main] INFO  o.s.jdbc.datasource.init.ScriptUtils - Executed SQL script from class path resource [org/springframework/batch/core/schema-postgresql.sql] in 124 ms.
12:06:52.431 [main] INFO  uk.ac.kcl.utils.BatchJobUtils - No previous job found in job repository
12:06:52.431 [main] INFO  u.a.kcl.scheduling.SingleJobLauncher - Last good run was null. Recommencing from then
12:06:52.548 [main] INFO  o.s.b.c.l.support.SimpleJobLauncher - Job: [FlowJob: [name=basicJob]] launched with the following parameters: [{this_attempt_date=1462532812413}]
12:06:52.577 [main] INFO  o.s.batch.core.job.SimpleStepHandler - Executing step: [basicMasterStep]
12:06:52.604 [main] INFO  uk.ac.kcl.utils.BatchJobUtils - No previous job found in job repository
12:06:52.607 [main] INFO  u.a.k.p.ColumnRangePartitioner - No previous successful batches detected. Commencing from first timestamp: 1969-12-07 00:00:00.0
12:06:52.607 [main] INFO  u.a.k.p.ColumnRangePartitioner - This job SQL:  SELECT  MAX(primaryKeyFieldValue) AS max_id ,  MIN(primaryKeyFieldValue) AS min_id ,  MAX(updateTime) AS max_time_stamp ,  MIN(updateTime) AS min_time_stamp   FROM (  SELECT  primaryKeyFieldValue, updateTime FROM tblInputDocs  WHERE CAST (updateTime as TIMESTAMP ) > CAST ('1969-12-07 00:00:00.0' as TIMESTAMP )  AND CAST (updateTime as TIMESTAMP ) <= CAST ('1970-01-16 00:00:00.0' as TIMESTAMP )  ORDER BY updateTime ASC  , primaryKeyFieldValue ASC  ) t1
12:06:52.891 [main] INFO  u.a.k.p.ColumnRangePartitioner - Database not yet synched. Synching as far as  1970-01-16 00:00:00.0 this job
12:06:52.891 [main] INFO  u.a.k.p.ColumnRangePartitioner - Commencing timestamp ordered PK partitioning
12:06:52.892 [main] INFO  u.a.k.p.ColumnRangePartitioner - partitioning complete
12:06:53.289 [SimpleAsyncTaskExecutor-1] INFO  u.a.k.i.ElasticsearchDocumentWriter - 5 documents indexed into ElasticSearch in 97 ms
12:06:53.320 [SimpleAsyncTaskExecutor-2] INFO  u.a.k.i.ElasticsearchDocumentWriter - 4 documents indexed into ElasticSearch in 130 ms
12:06:53.331 [SimpleAsyncTaskExecutor-4] INFO  u.a.k.i.ElasticsearchDocumentWriter - 10 documents indexed into ElasticSearch in 140 ms
12:06:53.392 [SimpleAsyncTaskExecutor-3] INFO  u.a.k.i.ElasticsearchDocumentWriter - 6 documents indexed into ElasticSearch in 197 ms
12:06:53.475 [main] INFO  u.a.k.l.JobCompleteNotificationListener - !!! JOB FINISHED! promoting last good record date to JobExecutionContext
12:06:53.490 [main] INFO  o.s.b.c.l.support.SimpleJobLauncher - Job: [FlowJob: [name=basicJob]] completed with the following parameters: [{this_attempt_date=1462532812413}] and the following status: [COMPLETED]
12:06:53.497 [Thread-3] INFO  o.s.c.s.GenericApplicationContext - Closing org.springframework.context.support.GenericApplicationContext@f5ac9e4: startup date [Fri May 06 12:06:46 BST 2016]; root of context hierarchy
12:06:53.499 [Thread-3] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 2147483647
12:06:53.501 [Thread-3] INFO  o.s.i.j.ChannelPublishingJmsMessageListener$GatewayDelegate - stopped org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@25a7fedf
12:06:53.501 [Thread-3] INFO  o.s.i.jms.JmsMessageDrivenEndpoint - stopped org.springframework.integration.jms.JmsMessageDrivenEndpoint#0
12:06:53.502 [Thread-3] INFO  o.s.i.j.ChannelPublishingJmsMessageListener$GatewayDelegate - stopped org.springframework.integration.jms.ChannelPublishingJmsMessageListener$GatewayDelegate@daf22f0
12:06:53.502 [Thread-3] INFO  o.s.i.jms.JmsMessageDrivenEndpoint - stopped org.springframework.integration.jms.JmsMessageDrivenEndpoint#1
12:06:53.502 [Thread-3] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 1073741823
12:06:53.503 [Thread-3] INFO  o.s.c.s.DefaultLifecycleProcessor - Stopping beans in phase 0
12:06:53.503 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {jms:outbound-channel-adapter} as a subscriber to the 'replyChannel' channel
12:06:53.503 [Thread-3] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.replyChannel' has 1 subscriber(s).
12:06:53.503 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#0
12:06:53.504 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {service-activator} as a subscriber to the 'requestChannel' channel
12:06:53.504 [Thread-3] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.requestChannel' has 1 subscriber(s).
12:06:53.504 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#1
12:06:53.504 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {jms:outbound-channel-adapter} as a subscriber to the 'requestChannel' channel
12:06:53.504 [Thread-3] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.requestChannel' has 0 subscriber(s).
12:06:53.504 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#2
12:06:53.504 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {aggregator} as a subscriber to the 'replyChannel' channel
12:06:53.504 [Thread-3] INFO  o.s.i.channel.DirectChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.replyChannel' has 0 subscriber(s).
12:06:53.505 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped org.springframework.integration.config.ConsumerEndpointFactoryBean#3
12:06:53.505 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - Removing {logging-channel-adapter:_org.springframework.integration.errorLogger} as a subscriber to the 'errorChannel' channel
12:06:53.505 [Thread-3] INFO  o.s.i.c.PublishSubscribeChannel - Channel 'org.springframework.context.support.GenericApplicationContext@f5ac9e4.errorChannel' has 0 subscriber(s).
12:06:53.505 [Thread-3] INFO  o.s.i.endpoint.EventDrivenConsumer - stopped _org.springframework.integration.errorLogger
12:06:54.483 [Thread-3] INFO  o.s.s.c.ThreadPoolTaskScheduler - Shutting down ExecutorService 'taskScheduler'
